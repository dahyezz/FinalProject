<?xml version="1.0" encoding="UTF-8"?>

<!-- 마이바티스 3 Mapper DOCTYPE -->
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="web.dao.face.AdminBlackListDao">

	<select id="blackListSelectAll" resultType="web.dto.BlackList" parameterType="web.util.Paging">
		SELECT * FROM (
		    SELECT rownum rnum, B.* FROM (
		        SELECT * FROM blacklist_kg
		        ORDER BY hakbun
		    ) B
		ORDER BY rnum)
		WHERE rnum BETWEEN #{startNo } AND #{endNo }
		 
	</select>
	
	<select id="selectCntAll" resultType="int">
		SELECT count(*) FROM blacklist_kg
	</select>
	
	<select id="selectSearchCntAll" resultType="int" parameterType="String">
		SELECT count(*) FROM blacklist_kg
		WHERE hakbun LIKE '%'||#{search }||'%'
	</select>
	
	<delete id="blackListDelete" parameterType="String">
		DELETE blacklist_kg
		WHERE email IN 
		<foreach collection="email" item="e" open="(" close=")" separator=",">#{e}</foreach>
	</delete>










</mapper>